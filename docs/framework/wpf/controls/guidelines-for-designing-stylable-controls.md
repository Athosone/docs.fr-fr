---
title: Recommandations pour la conception de contrôles auxquels un style peut être appliqué
ms.date: 03/30/2017
helpviewer_keywords:
- style design for controls [WPF]
- controls [WPF], style design
ms.assetid: c52dde45-a311-4531-af4c-853371c4d5f4
ms.openlocfilehash: 756cc821b1a9fe20741e390a1fe6e84d12cc6363
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59148159"
---
# <a name="guidelines-for-designing-stylable-controls"></a><span data-ttu-id="e06f5-102">Recommandations pour la conception de contrôles auxquels un style peut être appliqué</span><span class="sxs-lookup"><span data-stu-id="e06f5-102">Guidelines for Designing Stylable Controls</span></span>
<span data-ttu-id="e06f5-103">Ce document récapitule un ensemble de meilleures pratiques à envisager lors de la conception d’un contrôle auquel vous souhaitez appliquer facilement un style et un modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-103">This document summarizes a set of best practices to consider when designing a control which you intend to be easily stylable and templatable.</span></span> <span data-ttu-id="e06f5-104">Ces meilleures pratiques sont issues d’un long processus d’essais et d’erreurs lors de notre travail sur les styles de contrôles de thème pour le jeu de contrôles [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] intégré.</span><span class="sxs-lookup"><span data-stu-id="e06f5-104">We came to this set of best practices through a lot of trial and error while working on the theme control styles for the built-in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control set.</span></span> <span data-ttu-id="e06f5-105">Nous avons appris qu’un style réussi constitue tout autant une fonction d’un modèle d’objet bien conçu que du style lui-même.</span><span class="sxs-lookup"><span data-stu-id="e06f5-105">We learned that successful styling is as much a function of a well-designed object model as it is of the style itself.</span></span> <span data-ttu-id="e06f5-106">Ce document concerne l’auteur du contrôle et non l’auteur du style.</span><span class="sxs-lookup"><span data-stu-id="e06f5-106">The intended audience for this document is the control author, not the style author.</span></span>  
  
  <a name="Terminology"></a>   
## <a name="terminology"></a><span data-ttu-id="e06f5-107">Terminologie</span><span class="sxs-lookup"><span data-stu-id="e06f5-107">Terminology</span></span>  
 <span data-ttu-id="e06f5-108">« L’application d’un style et la création de modèles » font référence à la suite de technologies qui permettent à un auteur de contrôle de reporter les aspects visuels du contrôle sur le style et le modèle du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-108">"Styling and templating" refer to the suite of technologies that enable a control author to defer the visual aspects of the control to the style and template of the control.</span></span> <span data-ttu-id="e06f5-109">Cette suite de technologies inclut :</span><span class="sxs-lookup"><span data-stu-id="e06f5-109">This suite of technologies includes:</span></span>  
  
-   <span data-ttu-id="e06f5-110">Styles (notamment les accesseurs Set, les déclencheurs et les plans conceptuels).</span><span class="sxs-lookup"><span data-stu-id="e06f5-110">Styles (including property setters, triggers, and storyboards).</span></span>  
  
-   <span data-ttu-id="e06f5-111">Ressources.</span><span class="sxs-lookup"><span data-stu-id="e06f5-111">Resources.</span></span>  
  
-   <span data-ttu-id="e06f5-112">Modèles de contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-112">Control templates.</span></span>  
  
-   <span data-ttu-id="e06f5-113">Modèles de données.</span><span class="sxs-lookup"><span data-stu-id="e06f5-113">Data templates.</span></span>  
  
 <span data-ttu-id="e06f5-114">Pour obtenir une présentation de l’application d’un style et la création de modèles, consultez [Application d’un style et création de modèles](styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="e06f5-114">For an introduction to styling and templating, see [Styling and Templating](styling-and-templating.md).</span></span>  
  
<a name="Before_You_Start__Understanding_Your_Control"></a>   
## <a name="before-you-start-understanding-your-control"></a><span data-ttu-id="e06f5-115">Avant de commencer : Présentation de votre contrôle</span><span class="sxs-lookup"><span data-stu-id="e06f5-115">Before You Start: Understanding Your Control</span></span>  
 <span data-ttu-id="e06f5-116">Avant d’explorer ces recommandations, il est important que vous compreniez et que vous ayez défini l’utilisation courante de votre contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-116">Before you jump into these guidelines, it is important to understand and have defined the common usage of your control.</span></span> <span data-ttu-id="e06f5-117">L’application d’un style expose un ensemble de possibilités souvent non maîtrisé.</span><span class="sxs-lookup"><span data-stu-id="e06f5-117">Styling exposes an often unruly set of possibilities.</span></span> <span data-ttu-id="e06f5-118">Les contrôles qui sont écrits pour être utilisés globalement (dans de nombreuses applications, par de nombreux développeurs) sont confrontés au fait que l’application d’un style peut être utilisée pour apporter des modifications de grande envergure à l’apparence visuelle du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-118">Controls that are written to be used broadly (in many applications, by many developers) face the challenge that styling can be used to make far-reaching changes to the visual appearance of the control.</span></span> <span data-ttu-id="e06f5-119">En fait, le contrôle stylé peut ne pas ressembler aux intentions premières de l’auteur du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-119">In fact, the styled control may not even resemble the control author's intentions.</span></span> <span data-ttu-id="e06f5-120">La souplesse offerte par l’application d’un style étant infinie, vous pouvez utiliser la notion d’utilisation courante pour vous aider à cerner vos décisions.</span><span class="sxs-lookup"><span data-stu-id="e06f5-120">Since the flexibility offered by styling is essentially boundless, you can use the idea of common usage to help you scope your decisions.</span></span>  
  
 <span data-ttu-id="e06f5-121">Pour comprendre l’utilisation courante de votre contrôle, il est judicieux de réfléchir à la proposition de valeur du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-121">To understand your control's common usage, it's good to think about the value proposition of the control.</span></span> <span data-ttu-id="e06f5-122">Qu’est-ce qui rend votre contrôle unique par rapport à tous les autres contrôles ?</span><span class="sxs-lookup"><span data-stu-id="e06f5-122">What does your control bring to the table that no other control can offer?</span></span> <span data-ttu-id="e06f5-123">L’utilisation courante n’implique pas une apparence visuelle spécifique, mais plutôt la philosophie du contrôle et un ensemble raisonnable d’attentes concernant son utilisation.</span><span class="sxs-lookup"><span data-stu-id="e06f5-123">Common usage does not imply any specific visual appearance, but rather the philosophy of the control and a reasonable set of expectations about its usage.</span></span> <span data-ttu-id="e06f5-124">Cette compréhension vous permet de formuler des hypothèses sur le modèle de composition et les comportements définis par le style du contrôle dans le cas courant.</span><span class="sxs-lookup"><span data-stu-id="e06f5-124">This understanding allows you to make some assumptions about the composition model and the style-defined behaviors of the control in the common case.</span></span> <span data-ttu-id="e06f5-125">Dans le cas de <xref:System.Windows.Controls.ComboBox>, par exemple, comprendre l’utilisation courante ne vous donne aucune information sur Si tel <xref:System.Windows.Controls.ComboBox> a des angles arrondis est utilisée, mais il vous donnera un aperçu dans le fait que le <xref:System.Windows.Controls.ComboBox> a probablement besoin d’une fenêtre contextuelle et un moyen de basculer si elle est ouverte.</span><span class="sxs-lookup"><span data-stu-id="e06f5-125">In the case of <xref:System.Windows.Controls.ComboBox>, for example, understanding the common usage won't give you any insight about whether a particular <xref:System.Windows.Controls.ComboBox> has rounded corners, but it will give you insight into the fact that the <xref:System.Windows.Controls.ComboBox> probably needs a pop-up window and some way of toggling whether it is open.</span></span>  
  
<a name="General_Guidelines"></a>   
## <a name="general-guidelines"></a><span data-ttu-id="e06f5-126">Indications générales</span><span class="sxs-lookup"><span data-stu-id="e06f5-126">General Guidelines</span></span>  
  
-   <span data-ttu-id="e06f5-127">**N’appliquez pas les contrats de modèles de manière stricte.**</span><span class="sxs-lookup"><span data-stu-id="e06f5-127">**Do not strictly enforce template contracts.**</span></span> <span data-ttu-id="e06f5-128">Le contrat de modèle d’un contrôle peut comporter des éléments, commandes, liaisons, déclencheurs ou même des paramètres de propriété qui sont requis ou attendus afin qu’un contrôle fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="e06f5-128">The template contract of a control might consist of elements, commands, bindings, triggers, or even property settings that are required or expected for a control to function properly.</span></span>  
  
    -   <span data-ttu-id="e06f5-129">Réduisez autant que possible les contrats.</span><span class="sxs-lookup"><span data-stu-id="e06f5-129">Minimize contracts as much as possible.</span></span>  
  
    -   <span data-ttu-id="e06f5-130">Concevez en gardant à l’esprit que pendant la conception (autrement dit, lorsque vous utilisez un outil de conception), il est courant pour un modèle de contrôle de se trouver dans un état incomplet.</span><span class="sxs-lookup"><span data-stu-id="e06f5-130">Design around the expectation that during design time (that is, when using a design tool) it is common for a control template to be in an incomplete state.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e06f5-131">n’offre pas une infrastructure d’état de « composition », donc les contrôles doivent être générés avec l’idée que cet état peut être valide.</span><span class="sxs-lookup"><span data-stu-id="e06f5-131">does not offer a "composing" state infrastructure, so controls have to be built with the expectation that such a state might be valid.</span></span>  
  
    -   <span data-ttu-id="e06f5-132">Ne levez pas d’exception lorsqu’un aspect du contrat de modèle n’est pas respecté.</span><span class="sxs-lookup"><span data-stu-id="e06f5-132">Do not throw exceptions when any aspect of a template contract is not followed.</span></span> <span data-ttu-id="e06f5-133">Dans le même état d’esprit, les panneaux ne doivent pas lever d’exceptions s’ils ont trop ou trop peu d’enfants.</span><span class="sxs-lookup"><span data-stu-id="e06f5-133">Along these lines, panels should not throw exceptions if they have too many or too few children.</span></span>  
  
-   <span data-ttu-id="e06f5-134">**Prenez en compte les fonctionnalités périphériques dans les éléments de modèle d’assistance.**</span><span class="sxs-lookup"><span data-stu-id="e06f5-134">**Factor peripheral functionality into template helper elements.**</span></span> <span data-ttu-id="e06f5-135">Chaque contrôle doit être axé sur sa fonctionnalité principale et sa proposition de valeur réelle et doit être défini par l’utilisation courante du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-135">Each control should be focused on its core functionality and true value proposition and defined by the control's common usage.</span></span> <span data-ttu-id="e06f5-136">Pour ce faire, utilisez les éléments de composition et d’assistance au sein du modèle pour activer les comportements et visualisations périphériques, autrement dit, les comportements et les visualisations qui ne contribuent pas à la fonctionnalité principale du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-136">To that end, use composition and helper elements within the template to enable peripheral behaviors and visualizations, that is, those behaviors and visualizations that do not contribute to the core functionality of the control.</span></span> <span data-ttu-id="e06f5-137">Les éléments d’assistance se répartissent en trois catégories :</span><span class="sxs-lookup"><span data-stu-id="e06f5-137">Helper elements fall into three categories:</span></span>  
  
    -   <span data-ttu-id="e06f5-138">Les types d’assistance **autonomes** sont des contrôles publics et réutilisables ou des primitives utilisées de manière « anonyme » dans un modèle, ce qui signifie que ni l’élément d’assistance ni le contrôle stylé n’est conscient de l’autre.</span><span class="sxs-lookup"><span data-stu-id="e06f5-138">**Standalone** helper types are public and reusable controls or primitives that are used "anonymously" in a template, meaning that neither the helper element nor the styled control is aware of the other.</span></span> <span data-ttu-id="e06f5-139">Techniquement, tout élément peut être un type anonyme, mais dans ce contexte, le terme décrit les types qui encapsulent des fonctionnalités spéciales pour activer des scénarios ciblés.</span><span class="sxs-lookup"><span data-stu-id="e06f5-139">Technically, any element can be an anonymous type, but in this context the term describes those types that encapsulate specialized functionality to enable targeted scenarios.</span></span>  
  
    -   <span data-ttu-id="e06f5-140">Les éléments d’assistance **basés sur le type** sont des nouveaux types qui encapsulent des fonctionnalités spéciales.</span><span class="sxs-lookup"><span data-stu-id="e06f5-140">**Type-based** helper elements are new types that encapsulate specialized functionality.</span></span> <span data-ttu-id="e06f5-141">Ces éléments sont généralement conçus avec une plage plus étroite de fonctionnalités par rapport aux primitives ou aux contrôles courants.</span><span class="sxs-lookup"><span data-stu-id="e06f5-141">These elements are typically designed with a narrower range of functionality than common controls or primitives.</span></span> <span data-ttu-id="e06f5-142">Contrairement aux éléments d’assistance autonomes, les éléments d’assistance basés sur le type prennent en compte le contexte dans lequel ils sont utilisés et doivent généralement partager des données avec le contrôle du modèle auquel ils appartiennent.</span><span class="sxs-lookup"><span data-stu-id="e06f5-142">Unlike standalone helper elements, type-based helper elements are aware of the context in which they are used and typically must share data with the control to whose template they belong.</span></span>  
  
    -   <span data-ttu-id="e06f5-143">Les éléments d’assistance **nommés** sont des contrôles ou des primitives courants qu’un contrôle s’attend à trouver (par leurs noms) dans son modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-143">**Named** helper elements are common controls or primitives that a control expects to find within its template by name.</span></span> <span data-ttu-id="e06f5-144">Ces éléments portent un nom connu dans le modèle, ce qui permet à un contrôle de rechercher l’élément et d’interagir avec celui-ci par programme.</span><span class="sxs-lookup"><span data-stu-id="e06f5-144">These elements are given a well-known name within the template, making it possible for a control to find the element and interact with it programmatically.</span></span> <span data-ttu-id="e06f5-145">Il ne peut exister qu’un seul élément avec un nom donné dans un modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-145">There can only be one element with a given name in any template.</span></span>  
  
     <span data-ttu-id="e06f5-146">Le tableau suivant présente les éléments d’assistance utilisés par les styles de contrôle actuellement (cette liste n’est pas exhaustive) :</span><span class="sxs-lookup"><span data-stu-id="e06f5-146">The following table shows helper elements employed by control styles today (this list is not exhaustive):</span></span>  
  
    |<span data-ttu-id="e06f5-147">Élément</span><span class="sxs-lookup"><span data-stu-id="e06f5-147">Element</span></span>|<span data-ttu-id="e06f5-148">Type</span><span class="sxs-lookup"><span data-stu-id="e06f5-148">Type</span></span>|<span data-ttu-id="e06f5-149">Utilisé par</span><span class="sxs-lookup"><span data-stu-id="e06f5-149">Used by</span></span>|  
    |-------------|----------|-------------|  
    |<xref:System.Windows.Controls.ContentPresenter>|<span data-ttu-id="e06f5-150">Basé sur le type</span><span class="sxs-lookup"><span data-stu-id="e06f5-150">Type-based</span></span>|<span data-ttu-id="e06f5-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>, et ainsi de suite (tous les <xref:System.Windows.Controls.ContentControl> types)</span><span class="sxs-lookup"><span data-stu-id="e06f5-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>, and so on (all <xref:System.Windows.Controls.ContentControl> types)</span></span>|  
    |<xref:System.Windows.Controls.ItemsPresenter>|<span data-ttu-id="e06f5-152">Basé sur le type</span><span class="sxs-lookup"><span data-stu-id="e06f5-152">Type-based</span></span>|<span data-ttu-id="e06f5-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, et ainsi de suite (tous les <xref:System.Windows.Controls.ItemsControl> types)</span><span class="sxs-lookup"><span data-stu-id="e06f5-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, and so on (all <xref:System.Windows.Controls.ItemsControl> types)</span></span>|  
    |<xref:System.Windows.Controls.Primitives.ToolBarOverflowPanel>|<span data-ttu-id="e06f5-154">Nommé</span><span class="sxs-lookup"><span data-stu-id="e06f5-154">Named</span></span>|<xref:System.Windows.Controls.ToolBar>|  
    |<xref:System.Windows.Controls.Primitives.Popup>|<span data-ttu-id="e06f5-155">Autonome</span><span class="sxs-lookup"><span data-stu-id="e06f5-155">Standalone</span></span>|<span data-ttu-id="e06f5-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>, et ainsi de suite</span><span class="sxs-lookup"><span data-stu-id="e06f5-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>, and so on</span></span>|  
    |<xref:System.Windows.Controls.Primitives.RepeatButton>|<span data-ttu-id="e06f5-157">Nommé</span><span class="sxs-lookup"><span data-stu-id="e06f5-157">Named</span></span>|<span data-ttu-id="e06f5-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>, et ainsi de suite</span><span class="sxs-lookup"><span data-stu-id="e06f5-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>, and so on</span></span>|  
    |<xref:System.Windows.Controls.Primitives.ScrollBar>|<span data-ttu-id="e06f5-159">Nommé</span><span class="sxs-lookup"><span data-stu-id="e06f5-159">Named</span></span>|<xref:System.Windows.Controls.ScrollViewer>|  
    |<xref:System.Windows.Controls.ScrollViewer>|<span data-ttu-id="e06f5-160">Autonome</span><span class="sxs-lookup"><span data-stu-id="e06f5-160">Standalone</span></span>|<span data-ttu-id="e06f5-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>, et ainsi de suite</span><span class="sxs-lookup"><span data-stu-id="e06f5-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>, and so on</span></span>|  
    |<xref:System.Windows.Controls.Primitives.TabPanel>|<span data-ttu-id="e06f5-162">Autonome</span><span class="sxs-lookup"><span data-stu-id="e06f5-162">Standalone</span></span>|<xref:System.Windows.Controls.TabControl>|  
    |<xref:System.Windows.Controls.TextBox>|<span data-ttu-id="e06f5-163">Nommé</span><span class="sxs-lookup"><span data-stu-id="e06f5-163">Named</span></span>|<xref:System.Windows.Controls.ComboBox>|  
    |<xref:System.Windows.Controls.Primitives.TickBar>|<span data-ttu-id="e06f5-164">Basé sur le type</span><span class="sxs-lookup"><span data-stu-id="e06f5-164">Type-based</span></span>|<xref:System.Windows.Controls.Slider>|  
  
-   <span data-ttu-id="e06f5-165">**Réduisez les liaisons ou les paramètres de propriété spécifiés par l’utilisateur requis sur les éléments d’assistance**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-165">**Minimize required user-specified bindings or property settings on helper elements**.</span></span> <span data-ttu-id="e06f5-166">Il est courant pour un élément d’assistance de nécessiter certaines liaisons ou certains paramètres de propriété pour fonctionner correctement dans le modèle du contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-166">It is common for a helper element to require certain bindings or property settings in order to function properly within the control template.</span></span> <span data-ttu-id="e06f5-167">L’élément d’assistance et le contrôle basé sur un modèle doivent, autant que possible, établir ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="e06f5-167">The helper element and templated control should, as much as possible, establish these settings.</span></span> <span data-ttu-id="e06f5-168">Lors de la définition de propriétés ou l’établissement de liaisons, veillez à ne pas écraser les valeurs définies par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e06f5-168">When setting properties or establishing bindings, care should be taken to not override values set by the user.</span></span> <span data-ttu-id="e06f5-169">Les meilleures pratiques spécifiques sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="e06f5-169">Specific best practices are as follows:</span></span>  
  
    -   <span data-ttu-id="e06f5-170">Les éléments d’assistance nommés doivent être identifiés par le parent et le parent doit établir les paramètres requis sur l’élément d’assistance.</span><span class="sxs-lookup"><span data-stu-id="e06f5-170">Named helper elements should be identified by the parent and the parent should establish any required settings on the helper element.</span></span>  
  
    -   <span data-ttu-id="e06f5-171">Les éléments d’assistance basés sur le type doivent établir les paramètres requis directement sur eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="e06f5-171">Type-based helper elements should establish any required settings directly on themselves.</span></span> <span data-ttu-id="e06f5-172">Pour ce faire, l’élément d’assistance peut demander des informations sur le contexte dans lequel il est utilisé, notamment son `TemplatedParent` (le type de contrôle du modèle dans lequel il est utilisé).</span><span class="sxs-lookup"><span data-stu-id="e06f5-172">Doing this may require the helper element to query for information context in which it is being used, including its `TemplatedParent` (the control type of the template in which it is being used).</span></span> <span data-ttu-id="e06f5-173">Par exemple, <xref:System.Windows.Controls.ContentPresenter> lie automatiquement le `Content` propriété de son `TemplatedParent` à son <xref:System.Windows.Controls.ContentPresenter.Content%2A> propriété lorsqu’il est utilisé dans un <xref:System.Windows.Controls.ContentControl> type dérivé.</span><span class="sxs-lookup"><span data-stu-id="e06f5-173">For example, <xref:System.Windows.Controls.ContentPresenter> automatically binds the `Content` property of its `TemplatedParent` to its <xref:System.Windows.Controls.ContentPresenter.Content%2A> property when used in a <xref:System.Windows.Controls.ContentControl> derived type.</span></span>  
  
    -   <span data-ttu-id="e06f5-174">Il est impossible d’optimiser les éléments d’assistance autonomes de cette façon car, par définition, ni l’élément d’assistance ni le parent n’ont conscience l’un de l’autre.</span><span class="sxs-lookup"><span data-stu-id="e06f5-174">Standalone helper elements cannot be optimized in this way because, by definition, neither the helper element nor the parent knows about the other.</span></span>  
  
-   <span data-ttu-id="e06f5-175">**Utilisez la propriété Name pour marquer des éléments dans un modèle**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-175">**Use the Name property to flag elements within a template**.</span></span> <span data-ttu-id="e06f5-176">Un contrôle qui doit trouver un élément dans son style afin d’y accéder par programme doit, pour ce faire, utiliser la propriété `Name` et le paradigme `FindName`.</span><span class="sxs-lookup"><span data-stu-id="e06f5-176">A control that needs to find an element in its style in order to access it programmatically should do so using the `Name` property and the `FindName` paradigm.</span></span> <span data-ttu-id="e06f5-177">Un contrôle ne doit pas lever une exception lorsqu’un élément est introuvable, mais il doit désactiver silencieusement et correctement la fonctionnalité qui requérait cet élément.</span><span class="sxs-lookup"><span data-stu-id="e06f5-177">A control should not throw an exception when an element is not found, but silently and gracefully disable the functionality which required that element.</span></span>  
  
-   <span data-ttu-id="e06f5-178">**Utilisez les meilleures pratiques pour exprimer l’état du contrôle et le comportement dans un style.**</span><span class="sxs-lookup"><span data-stu-id="e06f5-178">**Use best practices for expressing control state and behavior in a style.**</span></span> <span data-ttu-id="e06f5-179">Vous trouverez ci-dessous une liste des meilleures pratiques pour exprimer les changements d’état du contrôle et le comportement dans un style.</span><span class="sxs-lookup"><span data-stu-id="e06f5-179">The following is an ordered list of best practices for expressing control state changes and behavior in a style.</span></span> <span data-ttu-id="e06f5-180">Utilisez le premier élément dans la liste qui correspond à votre scénario.</span><span class="sxs-lookup"><span data-stu-id="e06f5-180">You should use the first item on the list that enables your scenario.</span></span>  
  
    1.  <span data-ttu-id="e06f5-181">Liaison de propriété.</span><span class="sxs-lookup"><span data-stu-id="e06f5-181">Property binding.</span></span> <span data-ttu-id="e06f5-182">Exemple : liaison entre <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> et <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-182">Example: binding between <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> and <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span></span>  
  
    2.  <span data-ttu-id="e06f5-183">Déclenchement des modifications de propriété ou des animations de propriété.</span><span class="sxs-lookup"><span data-stu-id="e06f5-183">Triggered property changes or property animations.</span></span> <span data-ttu-id="e06f5-184">Exemple : l’état de survol d’un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-184">Example: the hover state of a <xref:System.Windows.Controls.Button>.</span></span>  
  
    3.  <span data-ttu-id="e06f5-185">Commande.</span><span class="sxs-lookup"><span data-stu-id="e06f5-185">Command.</span></span> <span data-ttu-id="e06f5-186">Exemple : <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand>  /  <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> dans <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-186">Example: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>  
  
    4.  <span data-ttu-id="e06f5-187">Éléments d’assistance autonomes.</span><span class="sxs-lookup"><span data-stu-id="e06f5-187">Standalone helper elements.</span></span> <span data-ttu-id="e06f5-188">Exemple : <xref:System.Windows.Controls.Primitives.TabPanel> dans <xref:System.Windows.Controls.TabControl>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-188">Example: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span></span>  
  
    5.  <span data-ttu-id="e06f5-189">Types d’assistance basés sur le type.</span><span class="sxs-lookup"><span data-stu-id="e06f5-189">Type-based helper types.</span></span> <span data-ttu-id="e06f5-190">Exemple : <xref:System.Windows.Controls.ContentPresenter> dans <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> dans <xref:System.Windows.Controls.Slider>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-190">Example: <xref:System.Windows.Controls.ContentPresenter> in <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span></span>  
  
    6.  <span data-ttu-id="e06f5-191">Éléments d’assistance nommés.</span><span class="sxs-lookup"><span data-stu-id="e06f5-191">Named helper elements.</span></span> <span data-ttu-id="e06f5-192">Exemple : <xref:System.Windows.Controls.TextBox> dans <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-192">Example: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span></span>  
  
    7.  <span data-ttu-id="e06f5-193">Événements propagés à partir de types d’assistance nommés.</span><span class="sxs-lookup"><span data-stu-id="e06f5-193">Bubbled events from named helper types.</span></span> <span data-ttu-id="e06f5-194">Si vous écoutez des événements propagés à partir d’un élément de style, vous devez demander que l’élément générant l’événement puisse être identifié de manière unique.</span><span class="sxs-lookup"><span data-stu-id="e06f5-194">If you listen for bubbled events from a style element, you should require that the element generating the event can be uniquely identified.</span></span> <span data-ttu-id="e06f5-195">Exemple : <xref:System.Windows.Controls.Primitives.Thumb> dans <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-195">Example: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span></span>  
  
    8.  <span data-ttu-id="e06f5-196">Comportement `OnRender` personnalisé.</span><span class="sxs-lookup"><span data-stu-id="e06f5-196">Custom `OnRender` behavior.</span></span> <span data-ttu-id="e06f5-197">Exemple : <xref:Microsoft.Windows.Themes.ButtonChrome> dans <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-197">Example: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span></span>  
  
-   <span data-ttu-id="e06f5-198">**Utilisez des déclencheurs de style (par opposition aux déclencheurs de modèle) avec parcimonie**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-198">**Use style triggers (as opposed to template triggers) sparingly**.</span></span> <span data-ttu-id="e06f5-199">Les déclencheurs qui affectent des propriétés sur les éléments dans le modèle doivent être déclarés dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-199">Triggers that affect properties on elements in the template must be declared in the template.</span></span> <span data-ttu-id="e06f5-200">Les déclencheurs qui affectent des propriétés sur le contrôle (aucun `TargetName`) peuvent être déclarés dans le style, sauf si vous savez que la modification du modèle détruirait également le déclencheur.</span><span class="sxs-lookup"><span data-stu-id="e06f5-200">Triggers that affect properties on the control (no `TargetName`) may be declared in the style unless you know that changing the template should also destroy the trigger.</span></span>  
  
-   <span data-ttu-id="e06f5-201">**Soyez cohérent avec les modèles de styles existants.**</span><span class="sxs-lookup"><span data-stu-id="e06f5-201">**Be consistent with existing styling patterns.**</span></span> <span data-ttu-id="e06f5-202">Il existe souvent plusieurs façons de résoudre un problème.</span><span class="sxs-lookup"><span data-stu-id="e06f5-202">Many times there are multiple ways to solve a problem.</span></span> <span data-ttu-id="e06f5-203">Tenez compte et soyez cohérent, lorsque possible, concernant les modèles de styles existants.</span><span class="sxs-lookup"><span data-stu-id="e06f5-203">Be aware of and, when possible, consistent with existing control styling patterns.</span></span> <span data-ttu-id="e06f5-204">Ceci est particulièrement important pour les contrôles qui dérivent du même type de base (par exemple, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="e06f5-204">This is especially important for controls that derive from the same base type (for example, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>, and so on).</span></span>  
  
-   <span data-ttu-id="e06f5-205">**Exposez des propriétés pour activer des scénarios de personnalisation courants sans recréer un modèle**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-205">**Expose properties to enable common customization scenarios without retemplating**.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e06f5-206">ne prend pas en charge les composants enfichables/personnalisables, donc un utilisateur du contrôle dispose de seulement deux méthodes de personnalisation : définir des propriétés directement ou définir des propriétés à l’aide de styles.</span><span class="sxs-lookup"><span data-stu-id="e06f5-206">does not support pluggable/customizable parts, so a control user is left with only two methods of customization: setting properties directly or setting properties using styles.</span></span> <span data-ttu-id="e06f5-207">Dans cette optique, il convient d’exposer un nombre limité de propriétés destinées à des scénarios de personnalisation très courants, de priorité élevée, qui nécessiteraient sinon la recréation d’un modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-207">With that in mind, it is appropriate to surface a limited number of properties targeted at very common, high-priority customization scenarios which would otherwise require the retemplating.</span></span> <span data-ttu-id="e06f5-208">Voici les meilleures pratiques pour savoir quand et comment activer des scénarios de personnalisation :</span><span class="sxs-lookup"><span data-stu-id="e06f5-208">Here are best practices for when and how to enable customization scenarios:</span></span>  
  
    -   <span data-ttu-id="e06f5-209">Les personnalisations très courantes doivent être exposées en tant que propriétés sur le contrôle et consommées par le modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-209">Very common customizations should be exposed as properties on the control and consumed by the template.</span></span>  
  
    -   <span data-ttu-id="e06f5-210">Les personnalisations moins courantes (mais pas rares) doivent être exposées en tant que propriétés jointes et consommées par le modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-210">Less common (though not rare) customizations should be exposed as attached properties and consumed by the template.</span></span>  
  
    -   <span data-ttu-id="e06f5-211">Les personnalisations courantes mais rares peuvent exiger la recréation d’un modèle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-211">It is acceptable for known but rare customizations to require retemplating.</span></span>  
  
<a name="Theme_Considerations"></a>   
## <a name="theme-considerations"></a><span data-ttu-id="e06f5-212">Considérations relatives au thème</span><span class="sxs-lookup"><span data-stu-id="e06f5-212">Theme Considerations</span></span>  
  
-   <span data-ttu-id="e06f5-213">**Les styles de thème doivent, autant que possible, posséder une sémantique des propriétés cohérente entre tous les thèmes, sans aucune garantie**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-213">**Theme styles should attempt to have consistent property semantics across all themes, but make no guarantee**.</span></span> <span data-ttu-id="e06f5-214">Dans le cadre de sa documentation, votre contrôle doit posséder un document décrivant la sémantique des propriétés du contrôle, autrement dit, la « signification » d’une propriété pour un contrôle.</span><span class="sxs-lookup"><span data-stu-id="e06f5-214">As part of its documentation, your control should have a document describing the control's property semantics, that is, the "meaning" of a property for a control.</span></span> <span data-ttu-id="e06f5-215">Par exemple, le <xref:System.Windows.Controls.ComboBox> contrôle doit définir la signification de la <xref:System.Windows.Controls.Control.Background%2A> propriété dans <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="e06f5-215">For example, the <xref:System.Windows.Controls.ComboBox> control should define the meaning of the <xref:System.Windows.Controls.Control.Background%2A> property within <xref:System.Windows.Controls.ComboBox>.</span></span> <span data-ttu-id="e06f5-216">Les styles par défaut de votre contrôle doivent, autant que possible, respecter la sémantique définie dans ce document pour tous les thèmes.</span><span class="sxs-lookup"><span data-stu-id="e06f5-216">The default styles for your control should attempt to follow the semantics defined in that document across all themes.</span></span> <span data-ttu-id="e06f5-217">Les utilisateurs du contrôle, en revanche, doivent savoir que la sémantique des propriétés peut changer d’un thème à l’autre.</span><span class="sxs-lookup"><span data-stu-id="e06f5-217">Control users, on the other hand, should be aware that property semantics can change from theme to theme.</span></span> <span data-ttu-id="e06f5-218">Dans certains cas, une propriété donnée peut ne pas pouvoir être exprimée avec les contraintes visuelles imposées par un thème particulier.</span><span class="sxs-lookup"><span data-stu-id="e06f5-218">In certain cases, a given property may not be expressible under the visual constraints required by a particular theme.</span></span> <span data-ttu-id="e06f5-219">(Le thème Classique, par exemple, n’a pas de bordure simple à laquelle `Thickness` peut être appliqué pour de nombreux contrôles.)</span><span class="sxs-lookup"><span data-stu-id="e06f5-219">(The Classic theme, for example, does not have a single border to which `Thickness` can be applied for many controls.)</span></span>  
  
-   <span data-ttu-id="e06f5-220">**Les styles de thème ne requièrent pas que la sémantique de déclencheur soit cohérente entre tous les thèmes**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-220">**Theme styles do not need to have consistent trigger semantics across all themes**.</span></span> <span data-ttu-id="e06f5-221">Le comportement exposé par un style de contrôle par le biais de déclencheurs ou d’animations peut varier d’un thème à l’autre.</span><span class="sxs-lookup"><span data-stu-id="e06f5-221">The behavior exposed by a control style through triggers or animations may vary from theme to theme.</span></span> <span data-ttu-id="e06f5-222">Les utilisateurs du contrôle doivent savoir qu’un contrôle n’utilise pas nécessairement le même mécanisme dans tous les thèmes pour obtenir un comportement particulier.</span><span class="sxs-lookup"><span data-stu-id="e06f5-222">Control users should be aware that a control will not necessarily employ the same mechanism to achieve a particular behavior across all themes.</span></span> <span data-ttu-id="e06f5-223">Un thème, par exemple, peut utiliser une animation pour exprimer le comportement de survol alors qu’un autre thème utilise un déclencheur.</span><span class="sxs-lookup"><span data-stu-id="e06f5-223">One theme, for example, may use an animation to express hover behavior where another theme uses a trigger.</span></span> <span data-ttu-id="e06f5-224">Cela peut entraîner des disparités dans la préservation du comportement au niveau des contrôles personnalisés.</span><span class="sxs-lookup"><span data-stu-id="e06f5-224">This can result in inconsistencies in behavior preservation on customized controls.</span></span> <span data-ttu-id="e06f5-225">(La modification de la propriété d’arrière-plan, par exemple, peut ne pas affecter l’état de survol du contrôle si cet état est exprimé à l’aide d’un déclencheur.</span><span class="sxs-lookup"><span data-stu-id="e06f5-225">(Changing the background property, for example, might not affect the hover state of the control if that state is expressed using a trigger.</span></span> <span data-ttu-id="e06f5-226">Toutefois, si l’état de survol est implémenté à l’aide d’une animation, la modification de l’arrière-plan pourrait altérer irrémédiablement l’animation et, par conséquent, la transition de l’état.)</span><span class="sxs-lookup"><span data-stu-id="e06f5-226">However, if the hover state is implemented using an animation, changing to background could irreparably break the animation and therefore the state transition.)</span></span>  
  
-   <span data-ttu-id="e06f5-227">**Les styles de thème ne requièrent pas que la sémantique de « disposition » soit cohérente entre tous les thèmes**.</span><span class="sxs-lookup"><span data-stu-id="e06f5-227">**Theme styles do not need to have consistent "layout" semantics across all themes**.</span></span> <span data-ttu-id="e06f5-228">Par exemple, le style par défaut n’a pas besoin de garantir qu’un contrôle occupera le même espace dans tous les thèmes ou qu’un contrôle aura les mêmes marges de contenu / marges intérieures dans tous les thèmes.</span><span class="sxs-lookup"><span data-stu-id="e06f5-228">For example, the default style does not need to guarantee that a control will occupy the same amount of size in all themes or guarantee that a control will have the same content margins / padding across all themes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e06f5-229">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e06f5-229">See also</span></span>

- [<span data-ttu-id="e06f5-230">Application d’un style et création de modèles</span><span class="sxs-lookup"><span data-stu-id="e06f5-230">Styling and Templating</span></span>](styling-and-templating.md)
- [<span data-ttu-id="e06f5-231">Vue d’ensemble de la création de contrôles</span><span class="sxs-lookup"><span data-stu-id="e06f5-231">Control Authoring Overview</span></span>](control-authoring-overview.md)
