---
title: Sérialisation (C#)
ms.date: 04/26/2018
ms.openlocfilehash: 638fdbd31912ffeb284d734e1f8ce2ecd879b540
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61680113"
---
# <a name="serialization-c"></a><span data-ttu-id="116ca-102">Sérialisation (C#)</span><span class="sxs-lookup"><span data-stu-id="116ca-102">Serialization (C#)</span></span>

<span data-ttu-id="116ca-103">La sérialisation est le processus de conversion d’un objet en flux d’octets pour stocker l’objet ou le transmettre à la mémoire, une base de données ou un fichier.</span><span class="sxs-lookup"><span data-stu-id="116ca-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="116ca-104">Son principal objectif est d’enregistrer l’état d’un objet afin de pouvoir le recréer si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="116ca-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="116ca-105">Le processus inverse est appelé désérialisation.</span><span class="sxs-lookup"><span data-stu-id="116ca-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="116ca-106">Fonctionnement de la sérialisation</span><span class="sxs-lookup"><span data-stu-id="116ca-106">How serialization works</span></span>

<span data-ttu-id="116ca-107">Cette illustration montre le processus global de sérialisation :</span><span class="sxs-lookup"><span data-stu-id="116ca-107">This illustration shows the overall process of serialization:</span></span>

![Graphique sérialisation](./media/index/serialization-process.gif)

<span data-ttu-id="116ca-109">L’objet est sérialisé en un flux, qui contient non seulement les données, mais aussi des informations sur le type de l’objet, telles que sa version, sa culture et son nom d’assembly.</span><span class="sxs-lookup"><span data-stu-id="116ca-109">The object is serialized to a stream, which carries not just the data, but information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="116ca-110">À partir de ce flux, il peut être stocké dans une base de données, dans un fichier ou en mémoire.</span><span class="sxs-lookup"><span data-stu-id="116ca-110">From that stream, it can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="116ca-111">Usages de la sérialisation</span><span class="sxs-lookup"><span data-stu-id="116ca-111">Uses for serialization</span></span>

<span data-ttu-id="116ca-112">La sérialisation permet au développeur d’enregistrer l’état d’un objet et de le recréer si nécessaire, en fournissant le stockage d’objets, ainsi que l’échange de données.</span><span class="sxs-lookup"><span data-stu-id="116ca-112">Serialization allows the developer to save the state of an object and recreate it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="116ca-113">Avec la sérialisation, un développeur peut effectuer des actions comme envoyer l’objet à une application distante au moyen d’un service web, le transmettre d’un domaine à un autre, le transmettre à travers un pare-feu sous forme de chaîne XML ou maintenir la sécurité ou des informations propres à l’utilisateur entre les applications.</span><span class="sxs-lookup"><span data-stu-id="116ca-113">Through serialization, a developer can perform actions like sending the object to a remote application by means of a Web Service, passing an object from one domain to another, passing an object through a firewall as an XML string, or maintaining security or user-specific information across applications.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="116ca-114">Rendre un objet sérialisable</span><span class="sxs-lookup"><span data-stu-id="116ca-114">Making an object serializable</span></span>

<span data-ttu-id="116ca-115">Pour sérialiser un objet, il vous faut l’objet à sérialiser, un flux qui contiendra l’objet sérialisé et <xref:System.Runtime.Serialization.Formatter>.</span><span class="sxs-lookup"><span data-stu-id="116ca-115">To serialize an object, you need the object to be serialized, a stream to contain the serialized object, and a <xref:System.Runtime.Serialization.Formatter>.</span></span> <span data-ttu-id="116ca-116"><xref:System.Runtime.Serialization> contient les classes nécessaires pour sérialiser et désérialiser des objets.</span><span class="sxs-lookup"><span data-stu-id="116ca-116"><xref:System.Runtime.Serialization> contains the classes necessary for serializing and deserializing objects.</span></span>

<span data-ttu-id="116ca-117">Appliquez l’attribut <xref:System.SerializableAttribute> à un type pour indiquer que les instances de ce type peuvent être sérialisées.</span><span class="sxs-lookup"><span data-stu-id="116ca-117">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of this type can be serialized.</span></span> <span data-ttu-id="116ca-118">Une exception est levée si vous tentez une sérialisation alors que le type n’a pas l’attribut <xref:System.SerializableAttribute>.</span><span class="sxs-lookup"><span data-stu-id="116ca-118">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="116ca-119">Si vous ne voulez pas qu’un champ de votre classe soit sérialisable, appliquez l’attribut <xref:System.NonSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="116ca-119">If you don't want a field within your class to be serializable, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="116ca-120">Si un champ d’un type sérialisable contient un pointeur, un handle ou une autre structure de données propre à un environnement particulier et qu’il n’est pas possible de le reconstituer de manière significative dans un autre environnement, vous pouvez le rendre non sérialisable.</span><span class="sxs-lookup"><span data-stu-id="116ca-120">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="116ca-121">Si une classe sérialisée contient des références à des objets d’autres classes marqués par <xref:System.SerializableAttribute>, ces objets seront également sérialisés.</span><span class="sxs-lookup"><span data-stu-id="116ca-121">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="116ca-122">Sérialisation binaire et XML</span><span class="sxs-lookup"><span data-stu-id="116ca-122">Binary and XML serialization</span></span>

<span data-ttu-id="116ca-123">Vous pouvez utiliser la sérialisation binaire ou XML.</span><span class="sxs-lookup"><span data-stu-id="116ca-123">You can use binary or XML serialization.</span></span> <span data-ttu-id="116ca-124">Dans la sérialisation binaire, tous les membres, y compris en lecture seule, sont sérialisés et les performances sont améliorées.</span><span class="sxs-lookup"><span data-stu-id="116ca-124">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span> <span data-ttu-id="116ca-125">La sérialisation XML fournit un code plus lisible, ainsi qu’une plus grande souplesse de partage et d’utilisation de l’objet à des fins d’interopérabilité.</span><span class="sxs-lookup"><span data-stu-id="116ca-125">XML serialization provides more readable code, and greater flexibility of object sharing and usage for interoperability purposes.</span></span>

### <a name="binary-serialization"></a><span data-ttu-id="116ca-126">Sérialisation binaire</span><span class="sxs-lookup"><span data-stu-id="116ca-126">Binary serialization</span></span>

<span data-ttu-id="116ca-127">La sérialisation binaire utilise l’encodage binaire pour produire une sérialisation compacte qui peut servir notamment aux flux réseau par socket ou stockage.</span><span class="sxs-lookup"><span data-stu-id="116ca-127">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span>

### <a name="xml-serialization"></a><span data-ttu-id="116ca-128">sérialisation XML</span><span class="sxs-lookup"><span data-stu-id="116ca-128">XML serialization</span></span>

<span data-ttu-id="116ca-129">La sérialisation XML sérialise les champs et les propriétés publics d’un objet ou les paramètres et valeurs renvoyés de méthodes, en un flux XML conforme à un document XSD (langage de définition de schéma XML) spécifique.</span><span class="sxs-lookup"><span data-stu-id="116ca-129">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="116ca-130">La sérialisation XML permet d’obtenir des classes fortement typées avec des propriétés et des champs publics convertis au format XML.</span><span class="sxs-lookup"><span data-stu-id="116ca-130">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="116ca-131"><xref:System.Xml.Serialization> contient les classes nécessaires pour sérialiser et désérialiser du code XML.</span><span class="sxs-lookup"><span data-stu-id="116ca-131"><xref:System.Xml.Serialization> contains the classes necessary for serializing and deserializing XML.</span></span>

<span data-ttu-id="116ca-132">Vous pouvez appliquer des attributs à des classes et des membres de classes pour contrôler la manière dont <xref:System.Xml.Serialization.XmlSerializer> sérialise ou désérialise une instance de la classe.</span><span class="sxs-lookup"><span data-stu-id="116ca-132">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

## <a name="basic-and-custom-serialization"></a><span data-ttu-id="116ca-133">Sérialisation de base et sérialisation personnalisée</span><span class="sxs-lookup"><span data-stu-id="116ca-133">Basic and custom serialization</span></span>

<span data-ttu-id="116ca-134">La sérialisation peut s’effectuer de deux manières : de base et personnalisée.</span><span class="sxs-lookup"><span data-stu-id="116ca-134">Serialization can be performed in two ways, basic and custom.</span></span> <span data-ttu-id="116ca-135">La sérialisation de base utilise .NET Framework pour sérialiser automatiquement l’objet.</span><span class="sxs-lookup"><span data-stu-id="116ca-135">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span>

### <a name="basic-serialization"></a><span data-ttu-id="116ca-136">Sérialisation de base</span><span class="sxs-lookup"><span data-stu-id="116ca-136">Basic serialization</span></span>

<span data-ttu-id="116ca-137">La seule condition pour la sérialisation de base est que l’attribut <xref:System.SerializableAttribute> soit appliqué à l’objet.</span><span class="sxs-lookup"><span data-stu-id="116ca-137">The only requirement in basic serialization is that the object has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="116ca-138"><xref:System.NonSerializedAttribute> peut être utilisé pour empêcher que certains champs ne soient sérialisés.</span><span class="sxs-lookup"><span data-stu-id="116ca-138">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="116ca-139">Quand vous utilisez la sérialisation de base, le contrôle de version des objets peut créer des problèmes.</span><span class="sxs-lookup"><span data-stu-id="116ca-139">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="116ca-140">Vous pouvez utiliser la sérialisation personnalisée quand les problèmes de contrôle de version sont importants.</span><span class="sxs-lookup"><span data-stu-id="116ca-140">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="116ca-141">La sérialisation de base est le moyen le plus simple d’effectuer la sérialisation, mais elle ne fournit pas beaucoup de contrôle sur le processus.</span><span class="sxs-lookup"><span data-stu-id="116ca-141">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

### <a name="custom-serialization"></a><span data-ttu-id="116ca-142">Sérialisation personnalisée</span><span class="sxs-lookup"><span data-stu-id="116ca-142">Custom serialization</span></span>

<span data-ttu-id="116ca-143">Dans la sérialisation personnalisée, vous pouvez spécifier exactement quels objets sont sérialisés et de quelle façon.</span><span class="sxs-lookup"><span data-stu-id="116ca-143">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="116ca-144">La classe doit être marquée <xref:System.SerializableAttribute> et implémenter l’interface <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="116ca-144">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>

<span data-ttu-id="116ca-145">Si vous souhaitez que votre objet soit également désérialisé de manière personnalisée, vous devez utiliser un constructeur personnalisé.</span><span class="sxs-lookup"><span data-stu-id="116ca-145">If you want your object to be deserialized in a custom manner as well, you must use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="116ca-146">Sérialisation du concepteur</span><span class="sxs-lookup"><span data-stu-id="116ca-146">Designer serialization</span></span>

<span data-ttu-id="116ca-147">La sérialisation du concepteur est une forme particulière de sérialisation qui implique le type de persistance d’objets associé aux outils de développement.</span><span class="sxs-lookup"><span data-stu-id="116ca-147">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="116ca-148">La sérialisation du concepteur est le processus qui consiste à convertir un graphique d’objet en un fichier source utilisable ultérieurement pour récupérer le graphique d’objet.</span><span class="sxs-lookup"><span data-stu-id="116ca-148">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="116ca-149">Un fichier source peut contenir du code, des balises ou même des tables SQL.</span><span class="sxs-lookup"><span data-stu-id="116ca-149">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="BKMK_RelatedTopics"></a> <span data-ttu-id="116ca-150">Rubriques connexes et exemples</span><span class="sxs-lookup"><span data-stu-id="116ca-150">Related Topics and Examples</span></span>  
[<span data-ttu-id="116ca-151">Procédure pas à pas : Persistance d’un objet en Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="116ca-151">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="116ca-152">Montre comment utiliser la sérialisation pour rendre les données d’un objet persistantes entre les instances, afin de stocker des valeurs et de les récupérer lors de la prochaine instanciation de l’objet.</span><span class="sxs-lookup"><span data-stu-id="116ca-152">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="116ca-153">Guide pratique pour lire des données d’objet à partir d’un fichier XML (C#)</span><span class="sxs-lookup"><span data-stu-id="116ca-153">How to: Read Object Data from an XML File (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
 <span data-ttu-id="116ca-154">Montre comment lire les données d’objet écrites précédemment dans un fichier XML en utilisant la classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="116ca-154">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="116ca-155">Guide pratique pour écrire des données d’objet dans un fichier XML (C#)</span><span class="sxs-lookup"><span data-stu-id="116ca-155">How to: Write Object Data to an XML File (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="116ca-156">Montre comment écrire l’objet depuis une classe vers un fichier XML en utilisant la classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="116ca-156">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
